@model HotelCostaAzulFinal.Controllers.ConsultaAyuda
@{
    ViewData["Title"] = "Contacto - Centro de Ayuda";
}

<style>
    .contacto-hero {
        background: linear-gradient(135deg, #38a169 0%, #2f855a 100%);
        color: white;
        padding: 3rem 0;
        text-align: center;
        margin-bottom: 3rem;
    }

        .contacto-hero h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

    .container {
        max-width: 1000px;
        margin: 0 auto;
        padding: 0 2rem;
    }

    .contacto-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 3rem;
        margin-bottom: 3rem;
    }

    .contacto-form {
        background: white;
        padding: 2rem;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }

    .contacto-info {
        background: #f7fafc;
        padding: 2rem;
        border-radius: 15px;
    }

    .form-group {
        margin-bottom: 1.5rem;
    }

    .form-label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 600;
        color: #2d3748;
    }

    .form-input, .form-textarea, .form-select {
        width: 100%;
        padding: 1rem;
        border: 2px solid #e2e8f0;
        border-radius: 10px;
        font-size: 1rem;
        transition: all 0.3s;
        background: #fafafa;
    }

        .form-input:focus, .form-textarea:focus, .form-select:focus {
            outline: none;
            border-color: #38a169;
            background: white;
            box-shadow: 0 0 0 3px rgba(56, 161, 105, 0.1);
        }

    .form-textarea {
        resize: vertical;
        min-height: 120px;
    }

    .file-upload {
        position: relative;
        display: inline-block;
        width: 100%;
    }

    .file-upload-input {
        position: absolute;
        left: -9999px;
    }

    .file-upload-label {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 1rem;
        border: 2px dashed #cbd5e0;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.3s;
        background: #f7fafc;
        text-align: center;
        justify-content: center;
    }

        .file-upload-label:hover {
            border-color: #38a169;
            background: #f0fff4;
        }

    .file-upload-icon {
        font-size: 2rem;
        color: #38a169;
    }

    .file-upload-text {
        color: #4a5568;
    }

    .file-preview {
        margin-top: 1rem;
        display: none;
    }

        .file-preview img {
            max-width: 200px;
            max-height: 200px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

    .btn-enviar {
        background: linear-gradient(45deg, #38a169, #2f855a);
        color: white;
        padding: 1rem 2rem;
        border: none;
        border-radius: 10px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        width: 100%;
    }

        .btn-enviar:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(56, 161, 105, 0.3);
        }

    .info-item {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 2rem;
        padding: 1rem;
        background: white;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .info-icon {
        font-size: 1.5rem;
        color: #38a169;
        width: 40px;
        text-align: center;
    }

    .info-content h4 {
        margin-bottom: 0.5rem;
        color: #2d3748;
    }

    .info-content p {
        color: #718096;
        margin: 0;
    }

    .horarios-atencion {
        background: white;
        padding: 1.5rem;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        margin-top: 2rem;
    }

    .horarios-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
        margin-top: 1rem;
    }

    .horario-item {
        display: flex;
        justify-content: space-between;
        padding: 0.5rem 0;
        border-bottom: 1px solid #e2e8f0;
    }

    .error-message {
        color: #e53e3e;
        font-size: 0.875rem;
        margin-top: 0.25rem;
    }

    @@media (max-width: 768px) {
        .contacto-grid

    {
        grid-template-columns: 1fr;
    }

    .horarios-grid {
        grid-template-columns: 1fr;
    }

    }
</style>

<div class="contacto-hero">
    <div class="container">
        <h1>📞 Contáctanos</h1>
        <p>Estamos aquí para ayudarte. Envíanos tu consulta y te responderemos pronto.</p>
    </div>
</div>

<div class="container">
    <div class="contacto-grid">
        <!-- Formulario de contacto -->
        <div class="contacto-form">
            <h2 style="margin-bottom: 1.5rem; color: #2d3748;">💬 Envía tu Consulta</h2>

            <form asp-action="EnviarConsulta" method="post" enctype="multipart/form-data">
                <div class="form-group">
                    <label class="form-label" for="Nombre">Nombre Completo *</label>
                    <input asp-for="Nombre" type="text" class="form-input" placeholder="Tu nombre completo" required />
                    <span asp-validation-for="Nombre" class="error-message"></span>
                </div>

                <div class="form-group">
                    <label class="form-label" for="Email">Correo Electrónico *</label>
                    <input asp-for="Email" type="email" class="form-input" placeholder="tu@email.com" required />
                    <span asp-validation-for="Email" class="error-message"></span>
                </div>

                <div class="form-group">
                    <label class="form-label" for="Telefono">Teléfono</label>
                    <input asp-for="Telefono" type="tel" class="form-input" placeholder="+506 8888-8888" />
                    <span asp-validation-for="Telefono" class="error-message"></span>
                </div>

                <div class="form-group">
                    <label class="form-label" for="Asunto">Asunto *</label>
                    <select asp-for="Asunto" class="form-select" required>
                        <option value="">Selecciona un asunto</option>
                        <option value="Reserva">Consulta sobre Reserva</option>
                        <option value="Cancelacion">Cancelación de Reserva</option>
                        <option value="Facturacion">Facturación y Pagos</option>
                        <option value="Servicios">Servicios del Hotel</option>
                        <option value="Problema-Tecnico">Problema Técnico</option>
                        <option value="Sugerencia">Sugerencia</option>
                        <option value="Queja">Queja o Reclamo</option>
                        <option value="Otro">Otro</option>
                    </select>
                    <span asp-validation-for="Asunto" class="error-message"></span>
                </div>

                <div class="form-group">
                    <label class="form-label" for="Mensaje">Mensaje *</label>
                    <textarea asp-for="Mensaje" class="form-textarea" placeholder="Describe tu consulta o problema en detalle..." required></textarea>
                    <span asp-validation-for="Mensaje" class="error-message"></span>
                </div>

                <div class="form-group">
                    <label class="form-label">Adjuntar Imagen (Opcional)</label>
                    <div class="file-upload">
                        <input type="file" name="imagen" id="imagen" class="file-upload-input" accept="image/*">
                        <label for="imagen" class="file-upload-label">
                            <i class="fas fa-cloud-upload-alt file-upload-icon"></i>
                            <div class="file-upload-text">
                                <strong>Haz clic para subir una imagen</strong><br>
                                <small>JPG, PNG, GIF (máx. 5MB)</small>
                            </div>
                        </label>
                    </div>
                    <div class="file-preview" id="filePreview">
                        <img id="previewImage" src="" alt="Vista previa">
                        <p id="fileName"></p>
                    </div>
                </div>

                <button type="submit" class="btn-enviar">
                    <i class="fas fa-paper-plane" style="margin-right: 0.5rem;"></i>
                    Enviar Consulta
                </button>
            </form>
        </div>

        <!-- Información de contacto -->
        <div class="contacto-info">
            <h2 style="margin-bottom: 1.5rem; color: #2d3748;">📍 Información de Contacto</h2>

            <div class="info-item">
                <i class="fas fa-map-marker-alt info-icon"></i>
                <div class="info-content">
                    <h4>Dirección</h4>
                    <p>Avenida Central, Guanacaste<br>Costa Rica</p>
                </div>
            </div>

            <div class="info-item">
                <i class="fas fa-phone info-icon"></i>
                <div class="info-content">
                    <h4>Teléfono</h4>
                    <p>+506 2222-3333<br>+506 8888-9999</p>
                </div>
            </div>

            <div class="info-item">
                <i class="fas fa-envelope info-icon"></i>
                <div class="info-content">
                    <h4>Email</h4>
                    <p>info@hotelcostaazul.com<br>reservas@hotelcostaazul.com</p>
                </div>
            </div>

            <div class="info-item">
                <i class="fas fa-globe info-icon"></i>
                <div class="info-content">
                    <h4>Redes Sociales</h4>
                    <p>@HotelCostaAzulCR<br>Hotel Costa Azul Official</p>
                </div>
            </div>

            <div class="horarios-atencion">
                <h3 style="color: #2d3748; margin-bottom: 1rem;">🕒 Horarios de Atención</h3>
                <div class="horarios-grid">
                    <div class="horario-item">
                        <span>Lunes - Viernes</span>
                        <span>6:00 AM - 10:00 PM</span>
                    </div>
                    <div class="horario-item">
                        <span>Sábados</span>
                        <span>7:00 AM - 9:00 PM</span>
                    </div>
                    <div class="horario-item">
                        <span>Domingos</span>
                        <span>8:00 AM - 8:00 PM</span>
                    </div>
                    <div class="horario-item">
                        <span>Emergencias</span>
                        <span>24/7</span>
                    </div>
                </div>

                <div style="margin-top: 1.5rem; padding: 1rem; background: #e6fffa; border-radius: 10px; border-left: 4px solid #38a169;">
                    <p style="margin: 0; color: #2d3748;">
                        <i class="fas fa-info-circle" style="color: #38a169; margin-right: 0.5rem;"></i>
                        <strong>Tiempo de respuesta:</strong> Normalmente respondemos en menos de 2 horas durante horarios de oficina.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Mapa ficticio -->
    <div style="background: #f7fafc; padding: 3rem 0; margin: 3rem 0; border-radius: 20px; text-align: center;">
        <h2 style="color: #2d3748; margin-bottom: 2rem;">🗺️ Nuestra Ubicación</h2>
        <div style="background: #e2e8f0; height: 300px; border-radius: 15px; display: flex; align-items: center; justify-content: center; color: #718096;">
            <div>
                <i class="fas fa-map" style="font-size: 4rem; margin-bottom: 1rem;"></i>
                <p>Mapa interactivo próximamente</p>
                <p>Hotel Costa Azul - Guanacaste, Costa Rica</p>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const fileInput = document.getElementById('imagen');
        const filePreview = document.getElementById('filePreview');
        const previewImage = document.getElementById('previewImage');
        const fileName = document.getElementById('fileName');
        const uploadLabel = document.querySelector('.file-upload-label');

        fileInput.addEventListener('change', function(e) {
            const file = e.target.files[0];

            if (file) {
                // Validar tipo de archivo
                const validTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif'];
                if (!validTypes.includes(file.type)) {
                    alert('Por favor selecciona un archivo de imagen válido (JPG, PNG, GIF)');
                    fileInput.value = '';
                    filePreview.style.display = 'none';
                    return;
                }

                // Validar tamaño (5MB máximo)
                if (file.size > 5 * 1024 * 1024) {
                    alert('El archivo es demasiado grande. El tamaño máximo es 5MB.');
                    fileInput.value = '';
                    filePreview.style.display = 'none';
                    return;
                }

                // Mostrar vista previa
                const reader = new FileReader();
                reader.onload = function(e) {
                    previewImage.src = e.target.result;
                    fileName.textContent = file.name;
                    filePreview.style.display = 'block';

                    // Cambiar el texto del label
                    uploadLabel.innerHTML = `
                        <i class="fas fa-check-circle file-upload-icon" style="color: #38a169;"></i>
                        <div class="file-upload-text">
                            <strong>Imagen seleccionada</strong><br>
                            <small>Haz clic para cambiar</small>
                        </div>
                    `;
                };
                reader.readAsDataURL(file);
            } else {
                filePreview.style.display = 'none';
                uploadLabel.innerHTML = `
                    <i class="fas fa-cloud-upload-alt file-upload-icon"></i>
                    <div class="file-upload-text">
                        <strong>Haz clic para subir una imagen</strong><br>
                        <small>JPG, PNG, GIF (máx. 5MB)</small>
                    </div>
                `;
            }
        });

        // Animación del formulario
        const formGroups = document.querySelectorAll('.form-group');
        formGroups.forEach((group, index) => {
            group.style.opacity = '0';
            group.style.transform = 'translateY(20px)';

            setTimeout(() => {
                group.style.transition = 'all 0.5s ease';
                group.style.opacity = '1';
                group.style.transform = 'translateY(0)';
            }, index * 100);
        });

        // Validación en tiempo real
        const inputs = document.querySelectorAll('.form-input, .form-textarea, .form-select');
        inputs.forEach(input => {
            input.addEventListener('blur', function() {
                if (this.hasAttribute('required') && !this.value.trim()) {
                    this.style.borderColor = '#e53e3e';
                } else {
                    this.style.borderColor = '#38a169';
                }
            });

            input.addEventListener('input', function() {
                if (this.style.borderColor === 'rgb(229, 62, 62)' && this.value.trim()) {
                    this.style.borderColor = '#38a169';
                }
            });
        });
    });
</script>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}